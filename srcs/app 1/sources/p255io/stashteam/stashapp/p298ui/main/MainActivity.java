package p255io.stashteam.stashapp.p298ui.main;

import android.app.Dialog;
import android.content.ComponentCallbacks;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.view.MenuItem;
import androidx.fragment.app.C0425c;
import androidx.fragment.app.C0445l;
import androidx.fragment.app.C0466s;
import androidx.fragment.app.Fragment;
import com.google.android.material.bottomnavigation.BottomNavigationView;
import com.google.android.material.bottomnavigation.BottomNavigationView.C2568d;
import io.stashteam.games.tracker.stashapp.R;
import java.util.Iterator;
import java.util.List;
import p147g.p151b.p152a.C3709g.C3712c;
import p255io.stashteam.stashapp.p256b.p257a.C4938c;
import p255io.stashteam.stashapp.p262c.C4975e;
import p255io.stashteam.stashapp.p281f.p282a.C5327d;
import p255io.stashteam.stashapp.p281f.p292d.C5418b;
import p255io.stashteam.stashapp.p281f.p292d.C5418b.C5421c;
import p255io.stashteam.stashapp.p281f.p294e.C5429a;
import p255io.stashteam.stashapp.p298ui.auth.signin.SignInActivity;
import p255io.stashteam.stashapp.p298ui.home.C5581b;
import p308k.C5797g;
import p308k.C5801k;
import p308k.p323z.p324c.C5907a;
import p308k.p323z.p325d.C5942k;
import p308k.p323z.p325d.C5943l;
import p352o.p353a.p364c.p372k.C6560a;

/* renamed from: io.stashteam.stashapp.ui.main.MainActivity */
public final class MainActivity extends C5327d<C4975e> {

    /* renamed from: B */
    public static final C5621b f14623B = new C5621b(null);

    /* renamed from: A */
    private final C2568d f14624A = new C5623d(this);

    /* renamed from: y */
    private final C5797g f14625y = C5799i.m22044a(new C5620a(this, null, null));

    /* renamed from: z */
    private C0425c f14626z;

    /* renamed from: io.stashteam.stashapp.ui.main.MainActivity$a */
    public static final class C5620a extends C5943l implements C5907a<C4938c> {

        /* renamed from: g */
        final /* synthetic */ ComponentCallbacks f14627g;

        /* renamed from: h */
        final /* synthetic */ C6560a f14628h;

        /* renamed from: i */
        final /* synthetic */ C5907a f14629i;

        public C5620a(ComponentCallbacks componentCallbacks, C6560a aVar, C5907a aVar2) {
            this.f14627g = componentCallbacks;
            this.f14628h = aVar;
            this.f14629i = aVar2;
            super(0);
        }

        /* JADX WARNING: type inference failed for: r0v3, types: [java.lang.Object, io.stashteam.stashapp.b.a.c] */
        /* JADX WARNING: Multi-variable type inference failed. Error: jadx.core.utils.exceptions.JadxRuntimeException: No candidate types for var: r0v3, types: [java.lang.Object, io.stashteam.stashapp.b.a.c]
          assigns: [java.lang.Object]
          uses: [io.stashteam.stashapp.b.a.c]
          mth insns count: 9
        	at jadx.core.dex.visitors.typeinference.TypeSearch.fillTypeCandidates(TypeSearch.java:237)
        	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)
        	at jadx.core.dex.visitors.typeinference.TypeSearch.run(TypeSearch.java:53)
        	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.runMultiVariableSearch(TypeInferenceVisitor.java:99)
        	at jadx.core.dex.visitors.typeinference.TypeInferenceVisitor.visit(TypeInferenceVisitor.java:92)
        	at jadx.core.dex.visitors.DepthTraversal.visit(DepthTraversal.java:27)
        	at jadx.core.dex.visitors.DepthTraversal.lambda$visit$1(DepthTraversal.java:14)
        	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)
        	at jadx.core.dex.visitors.DepthTraversal.visit(DepthTraversal.java:14)
        	at jadx.core.dex.visitors.DepthTraversal.lambda$visit$0(DepthTraversal.java:13)
        	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)
        	at jadx.core.dex.visitors.DepthTraversal.visit(DepthTraversal.java:13)
        	at jadx.core.ProcessClass.process(ProcessClass.java:30)
        	at jadx.core.ProcessClass.lambda$processDependencies$0(ProcessClass.java:49)
        	at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)
        	at jadx.core.ProcessClass.processDependencies(ProcessClass.java:49)
        	at jadx.core.ProcessClass.process(ProcessClass.java:35)
        	at jadx.api.JadxDecompiler.processClass(JadxDecompiler.java:311)
        	at jadx.api.JavaClass.decompile(JavaClass.java:62)
        	at jadx.api.JadxDecompiler.lambda$appendSourcesSave$0(JadxDecompiler.java:217)
         */
        /* JADX WARNING: Unknown variable types count: 1 */
        /* Code decompiled incorrectly, please refer to instructions dump. */
        public final p255io.stashteam.stashapp.p256b.p257a.C4938c invoke() {
            /*
                r4 = this;
                android.content.ComponentCallbacks r0 = r4.f14627g
                o.a.c.k.a r1 = r4.f14628h
                k.z.c.a r2 = r4.f14629i
                o.a.c.a r0 = p352o.p353a.p354a.p356b.p357a.C6511a.m24704a(r0)
                o.a.c.m.a r0 = r0.mo16935b()
                java.lang.Class<io.stashteam.stashapp.b.a.c> r3 = p255io.stashteam.stashapp.p256b.p257a.C4938c.class
                k.c0.b r3 = p308k.p323z.p325d.C5950s.m22341a(r3)
                java.lang.Object r0 = r0.mo17011a(r3, r1, r2)
                return r0
            */
            throw new UnsupportedOperationException("Method not decompiled: p255io.stashteam.stashapp.p298ui.main.MainActivity.C5620a.invoke():java.lang.Object");
        }
    }

    /* renamed from: io.stashteam.stashapp.ui.main.MainActivity$b */
    public static final class C5621b {
        private C5621b() {
        }

        public /* synthetic */ C5621b(C5938g gVar) {
            this();
        }

        /* renamed from: a */
        public final Intent mo15248a(Context context) {
            C5942k.m22327b(context, "context");
            return new Intent(context, MainActivity.class);
        }

        /* renamed from: b */
        public final Intent mo15249b(Context context) {
            C5942k.m22327b(context, "context");
            Intent flags = new Intent(context, MainActivity.class).setFlags(268468224);
            C5942k.m22324a((Object) flags, "Intent(context, MainActiâ€¦FLAG_ACTIVITY_CLEAR_TASK)");
            return flags;
        }
    }

    /* renamed from: io.stashteam.stashapp.ui.main.MainActivity$c */
    private enum C5622c {
        HOME(R.id.nav_home),
        PROFILE(R.id.nav_profile);
        

        /* renamed from: f */
        private final int f14633f;

        private C5622c(int i) {
            this.f14633f = i;
        }

        /* renamed from: f */
        public final int mo15250f() {
            return this.f14633f;
        }
    }

    /* renamed from: io.stashteam.stashapp.ui.main.MainActivity$d */
    static final class C5623d implements C2568d {

        /* renamed from: a */
        final /* synthetic */ MainActivity f14634a;

        C5623d(MainActivity mainActivity) {
            this.f14634a = mainActivity;
        }

        /* renamed from: a */
        public final boolean mo8044a(MenuItem menuItem) {
            C5622c cVar;
            C5942k.m22327b(menuItem, "item");
            if (menuItem.getItemId() != R.id.nav_search) {
                C5622c[] values = C5622c.values();
                int length = values.length;
                int i = 0;
                while (true) {
                    if (i >= length) {
                        cVar = null;
                        break;
                    }
                    cVar = values[i];
                    if (cVar.mo15250f() == menuItem.getItemId()) {
                        break;
                    }
                    i++;
                }
                if (cVar != C5622c.PROFILE || this.f14634a.mo15028w()) {
                    if (cVar != null) {
                        this.f14634a.m21503b(cVar);
                    }
                    return true;
                }
                MainActivity mainActivity = this.f14634a;
                mainActivity.startActivity(SignInActivity.f14251G.mo15117a(mainActivity, true));
                return false;
            }
            this.f14634a.m21506z();
            return false;
        }
    }

    /* renamed from: A */
    private final void m21499A() {
        C3712c cVar = new C3712c(this);
        cVar.mo11796c(getString(R.string.rate_dlg_title));
        cVar.mo11795b(getString(R.string.rate_dlg_later));
        cVar.mo11792a(getString(R.string.rate_dlg_never));
        cVar.mo11791a((int) R.color.color_primary);
        cVar.mo11794b(10);
        cVar.mo11793a().show();
    }

    /* renamed from: a */
    private final Fragment m21500a(C5622c cVar) {
        int i = C5624a.f14635a[cVar.ordinal()];
        if (i == 1) {
            return C5581b.f14535j0.mo15225a();
        }
        if (i == 2) {
            return C5421c.m21063a(C5418b.f14179h0, null, false, 3, null);
        }
        throw new C5801k();
    }

    /* access modifiers changed from: private */
    /* renamed from: b */
    public final void m21503b(C5622c cVar) {
        Object obj;
        C0445l l = mo2666l();
        C5942k.m22324a((Object) l, "supportFragmentManager");
        List p = l.mo2814p();
        C5942k.m22324a((Object) p, "fm.fragments");
        Iterator it = p.iterator();
        while (true) {
            if (!it.hasNext()) {
                obj = null;
                break;
            }
            obj = it.next();
            Fragment fragment = (Fragment) obj;
            C5942k.m22324a((Object) fragment, "it");
            if (fragment.mo2481U()) {
                break;
            }
        }
        Fragment fragment2 = (Fragment) obj;
        Fragment b = l.mo2777b(cVar.name());
        if (b == null || fragment2 != b) {
            C0466s b2 = l.mo2778b();
            C5942k.m22324a((Object) b2, "beginTransaction()");
            if (b == null) {
                b2.mo2912a((int) R.id.container, m21500a(cVar), cVar.name());
            }
            if (fragment2 != null) {
                b2.mo2620a(fragment2);
            }
            if (b != null) {
                b2.mo2634c(b);
            }
            b2.mo2635c();
        }
    }

    /* renamed from: y */
    private final C4938c m21505y() {
        return (C4938c) this.f14625y.getValue();
    }

    /* access modifiers changed from: private */
    /* renamed from: z */
    public final void m21506z() {
        C0425c cVar = this.f14626z;
        if (cVar != null) {
            if ((cVar != null ? cVar.mo2655u0() : null) != null) {
                C0425c cVar2 = this.f14626z;
                if (cVar2 != null) {
                    Dialog u0 = cVar2.mo2655u0();
                    if (u0 != null && u0.isShowing()) {
                        C0425c cVar3 = this.f14626z;
                        if (cVar3 != null && !cVar3.mo2477Q()) {
                            return;
                        }
                    }
                }
            }
        }
        C5429a a = C5429a.f14203u0.mo15099a();
        this.f14626z = a;
        if (a != null) {
            a.mo2649a(mo2666l(), a.mo2467G());
        }
    }

    /* access modifiers changed from: protected */
    public void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        ((C4975e) mo15023u()).f13035b.setOnNavigationItemSelectedListener(this.f14624A);
        C0445l l = mo2666l();
        C5942k.m22324a((Object) l, "supportFragmentManager");
        if (l.mo2814p().isEmpty()) {
            BottomNavigationView bottomNavigationView = ((C4975e) mo15023u()).f13035b;
            C5942k.m22324a((Object) bottomNavigationView, "binding.bottomNavigation");
            bottomNavigationView.setSelectedItemId(R.id.nav_home);
        }
        m21499A();
        C4938c.m19734a(m21505y(), "main__screen_view", null, 2, null);
    }

    /* access modifiers changed from: protected */
    /* renamed from: v */
    public C4975e m21508v() {
        C4975e a = C4975e.m19920a(getLayoutInflater());
        C5942k.m22324a((Object) a, "ActivityMainBinding.inflate(layoutInflater)");
        return a;
    }
}
